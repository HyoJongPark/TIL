# 파일 업로드

파일 업로드 방식에는 2가지 종류가 있다.

**HTML 폼 전송 방식**

- application/x-www-form-urlencoded
- multipart/form-data

**application/x-www-form-urlencoded 방식**

![Untitled](https://user-images.githubusercontent.com/75190035/151659480-10a6af2c-ceef-4e35-b189-14330adbf790.png)

- application/x-www-form-urlencoded 방식은 HTML 폼 데이터를 서버로 전송하는 가장 기본적인 방법이다.
- Form 태그에 별도의 enctype 옵션이 없으면 웹 브라우저는 요청 HTTP 메시지의 헤더에 다음 내용을 추가한다.
    - Content-Type: application/x-www-form-urlencoded
- 폼에 입력한 전송할 항목을 HTTP Body에 문자로 `username=kim&age=20` 와 같이 `&` 로 구분해서 전송한다.
- 문제점
    - 파일 업로드는 바이너리 데이터를 전송해야하는데, 이 방식(문자 전송)으로는 파일을 전송하기 어렵다.
    - 또한 업로드 시에는 파일 뿐아니라 파일명 등의 문자형식도 바이너리 파일과 동시에 전송해야한다.
    

**multipart/form-data 방식**

![Untitled 1](https://user-images.githubusercontent.com/75190035/151659478-18c36914-11ff-4f23-b5f0-f6740287bc59.png)

- 이 방식을 사용하려면 enctype 을 지정해야 한다.
    - enctype="multipart/form-data”
- multipart/form-data ****방식은 다른 종류의 여러 파일과 폼의 내용 함께 전송할 수 있다.
- 폼의 입력 결과로 생성된 HTTP 메시지를 보면 각각의 전송 항목이 구분이 되어있다.
    - `ContentDisposition` 이라는 항목별 헤더가 추가되어 있고 여기에 부가 정보가 있다.
    - 폼의 일반 데이터는 각 항목별로 문자가 전송되고, 파일의 경우 파일 이름과 Content-Type이 추가되고 바이너리 데이터가 전송된다.

---

## 서블릿과 파일 업로드
